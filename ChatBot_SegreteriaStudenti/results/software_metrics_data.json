{
  "project_metrics": {
    "files": [
      {
        "file": "fix_links.py",
        "lines_of_code": 176,
        "classes": [],
        "functions": [
          {
            "name": "fix_malformed_links",
            "cc": 8,
            "lines": 9,
            "parameters": 0
          },
          {
            "name": "optimize_ollama_settings",
            "cc": 3,
            "lines": 3,
            "parameters": 0
          },
          {
            "name": "create_fast_response_fallback",
            "cc": 3,
            "lines": 3,
            "parameters": 0
          }
        ],
        "imports": [
          "os",
          "re"
        ],
        "total_cc": 14
      },
      {
        "file": "main.py",
        "lines_of_code": 214,
        "classes": [],
        "functions": [
          {
            "name": "check_requirements",
            "cc": 14,
            "lines": 12,
            "parameters": 0
          },
          {
            "name": "setup_project",
            "cc": 6,
            "lines": 7,
            "parameters": 0
          },
          {
            "name": "chatbot_cli",
            "cc": 8,
            "lines": 11,
            "parameters": 0
          },
          {
            "name": "show_help",
            "cc": 1,
            "lines": 10,
            "parameters": 0
          },
          {
            "name": "show_setup_instructions",
            "cc": 1,
            "lines": 16,
            "parameters": 0
          },
          {
            "name": "main",
            "cc": 6,
            "lines": 5,
            "parameters": 0
          }
        ],
        "imports": [
          "os",
          "sys",
          "datetime",
          "chatbot",
          "extract_and_save",
          "create_vectorstore",
          "ollama_llm",
          "requests",
          "setup",
          "re"
        ],
        "total_cc": 36
      },
      {
        "file": "setup.py",
        "lines_of_code": 305,
        "classes": [],
        "functions": [
          {
            "name": "print_header",
            "cc": 1,
            "lines": 3,
            "parameters": 1
          },
          {
            "name": "print_step",
            "cc": 1,
            "lines": 2,
            "parameters": 2
          },
          {
            "name": "run_command",
            "cc": 5,
            "lines": 3,
            "parameters": 3
          },
          {
            "name": "check_python",
            "cc": 3,
            "lines": 3,
            "parameters": 0
          },
          {
            "name": "install_ollama",
            "cc": 5,
            "lines": 6,
            "parameters": 0
          },
          {
            "name": "install_python_deps",
            "cc": 2,
            "lines": 4,
            "parameters": 0
          },
          {
            "name": "setup_ollama_model",
            "cc": 4,
            "lines": 9,
            "parameters": 0
          },
          {
            "name": "setup_environment",
            "cc": 8,
            "lines": 4,
            "parameters": 0
          },
          {
            "name": "create_vectorstore",
            "cc": 7,
            "lines": 5,
            "parameters": 0
          },
          {
            "name": "test_chatbot",
            "cc": 7,
            "lines": 3,
            "parameters": 0
          },
          {
            "name": "main",
            "cc": 8,
            "lines": 17,
            "parameters": 0
          }
        ],
        "imports": [
          "os",
          "sys",
          "subprocess",
          "platform",
          "time",
          "pathlib",
          "shutil",
          "chatbot"
        ],
        "total_cc": 51
      },
      {
        "file": "evaluation\\software_metrics.py",
        "lines_of_code": 421,
        "classes": [
          {
            "name": "CodeMetricsAnalyzer",
            "methods": [
              {
                "name": "__init__",
                "cc": 1,
                "lines": 2,
                "parameters": 2
              },
              {
                "name": "analyze_cyclomatic_complexity",
                "cc": 6,
                "lines": 4,
                "parameters": 2
              },
              {
                "name": "analyze_file",
                "cc": 7,
                "lines": 2,
                "parameters": 2
              },
              {
                "name": "analyze_class",
                "cc": 3,
                "lines": 9,
                "parameters": 2
              },
              {
                "name": "analyze_function",
                "cc": 1,
                "lines": 3,
                "parameters": 2
              },
              {
                "name": "get_method_variables",
                "cc": 5,
                "lines": 4,
                "parameters": 2
              },
              {
                "name": "calculate_lcom",
                "cc": 6,
                "lines": 8,
                "parameters": 2
              },
              {
                "name": "get_import_name",
                "cc": 4,
                "lines": 3,
                "parameters": 2
              },
              {
                "name": "analyze_project",
                "cc": 8,
                "lines": 13,
                "parameters": 1
              },
              {
                "name": "calculate_robert_martin_metrics",
                "cc": 7,
                "lines": 8,
                "parameters": 2
              },
              {
                "name": "generate_report",
                "cc": 4,
                "lines": 19,
                "parameters": 3
              },
              {
                "name": "create_visualizations",
                "cc": 11,
                "lines": 34,
                "parameters": 3
              }
            ],
            "method_count": 12,
            "wmc": 63,
            "lcom": 0.9696969696969697,
            "instance_variables": 9
          }
        ],
        "functions": [
          {
            "name": "main",
            "cc": 3,
            "lines": 24,
            "parameters": 0
          },
          {
            "name": "__init__",
            "cc": 1,
            "lines": 2,
            "parameters": 2
          },
          {
            "name": "analyze_cyclomatic_complexity",
            "cc": 6,
            "lines": 4,
            "parameters": 2
          },
          {
            "name": "analyze_file",
            "cc": 7,
            "lines": 2,
            "parameters": 2
          },
          {
            "name": "analyze_class",
            "cc": 3,
            "lines": 9,
            "parameters": 2
          },
          {
            "name": "analyze_function",
            "cc": 1,
            "lines": 3,
            "parameters": 2
          },
          {
            "name": "get_method_variables",
            "cc": 5,
            "lines": 4,
            "parameters": 2
          },
          {
            "name": "calculate_lcom",
            "cc": 6,
            "lines": 8,
            "parameters": 2
          },
          {
            "name": "get_import_name",
            "cc": 4,
            "lines": 3,
            "parameters": 2
          },
          {
            "name": "analyze_project",
            "cc": 8,
            "lines": 13,
            "parameters": 1
          },
          {
            "name": "calculate_robert_martin_metrics",
            "cc": 7,
            "lines": 8,
            "parameters": 2
          },
          {
            "name": "generate_report",
            "cc": 4,
            "lines": 19,
            "parameters": 3
          },
          {
            "name": "create_visualizations",
            "cc": 11,
            "lines": 34,
            "parameters": 3
          }
        ],
        "imports": [
          "ast",
          "os",
          "sys",
          "json",
          "pathlib",
          "typing",
          "matplotlib.pyplot",
          "seaborn",
          "pandas"
        ],
        "total_cc": 66
      },
      {
        "file": "evaluation\\thesis_evaluation.py",
        "lines_of_code": 217,
        "classes": [
          {
            "name": "ThesisEvaluator",
            "methods": [
              {
                "name": "__init__",
                "cc": 1,
                "lines": 4,
                "parameters": 2
              },
              {
                "name": "load_dataset",
                "cc": 3,
                "lines": 2,
                "parameters": 2
              },
              {
                "name": "setup_chatbot",
                "cc": 2,
                "lines": 3,
                "parameters": 1
              },
              {
                "name": "run_performance_test",
                "cc": 5,
                "lines": 9,
                "parameters": 2
              },
              {
                "name": "analyze_performance",
                "cc": 2,
                "lines": 10,
                "parameters": 2
              },
              {
                "name": "generate_thesis_charts",
                "cc": 4,
                "lines": 36,
                "parameters": 2
              },
              {
                "name": "run_complete_evaluation",
                "cc": 6,
                "lines": 6,
                "parameters": 1
              }
            ],
            "method_count": 7,
            "wmc": 23,
            "lcom": 0.8571428571428572,
            "instance_variables": 8
          }
        ],
        "functions": [
          {
            "name": "__init__",
            "cc": 1,
            "lines": 4,
            "parameters": 2
          },
          {
            "name": "load_dataset",
            "cc": 3,
            "lines": 2,
            "parameters": 2
          },
          {
            "name": "setup_chatbot",
            "cc": 2,
            "lines": 3,
            "parameters": 1
          },
          {
            "name": "run_performance_test",
            "cc": 5,
            "lines": 9,
            "parameters": 2
          },
          {
            "name": "analyze_performance",
            "cc": 2,
            "lines": 10,
            "parameters": 2
          },
          {
            "name": "generate_thesis_charts",
            "cc": 4,
            "lines": 36,
            "parameters": 2
          },
          {
            "name": "run_complete_evaluation",
            "cc": 6,
            "lines": 6,
            "parameters": 1
          }
        ],
        "imports": [
          "json",
          "time",
          "sys",
          "os",
          "datetime",
          "statistics",
          "matplotlib.pyplot",
          "seaborn",
          "pandas",
          "chatbot",
          "random"
        ],
        "total_cc": 23
      },
      {
        "file": "interfaces\\streamlit_app.py",
        "lines_of_code": 327,
        "classes": [],
        "functions": [
          {
            "name": "initialize_chatbot",
            "cc": 4,
            "lines": 3,
            "parameters": 0
          },
          {
            "name": "create_clickable_links",
            "cc": 5,
            "lines": 7,
            "parameters": 1
          },
          {
            "name": "display_message_improved",
            "cc": 2,
            "lines": 7,
            "parameters": 2
          },
          {
            "name": "display_message_with_components",
            "cc": 7,
            "lines": 2,
            "parameters": 2
          },
          {
            "name": "main",
            "cc": 14,
            "lines": 12,
            "parameters": 0
          },
          {
            "name": "replace_with_link",
            "cc": 5,
            "lines": 5,
            "parameters": 1
          }
        ],
        "imports": [
          "streamlit",
          "sys",
          "os",
          "re",
          "chatbot",
          "time",
          "html"
        ],
        "total_cc": 37
      },
      {
        "file": "src\\analytics.py",
        "lines_of_code": 180,
        "classes": [
          {
            "name": "ChatbotAnalytics",
            "methods": [
              {
                "name": "__init__",
                "cc": 1,
                "lines": 2,
                "parameters": 2
              },
              {
                "name": "init_database",
                "cc": 1,
                "lines": 7,
                "parameters": 1
              },
              {
                "name": "log_query",
                "cc": 1,
                "lines": 6,
                "parameters": 6
              },
              {
                "name": "log_performance",
                "cc": 1,
                "lines": 6,
                "parameters": 4
              },
              {
                "name": "get_stats",
                "cc": 3,
                "lines": 13,
                "parameters": 2
              },
              {
                "name": "export_data",
                "cc": 2,
                "lines": 11,
                "parameters": 2
              }
            ],
            "method_count": 6,
            "wmc": 9,
            "lcom": 0.0,
            "instance_variables": 3
          }
        ],
        "functions": [
          {
            "name": "measure_performance",
            "cc": 2,
            "lines": 3,
            "parameters": 2
          },
          {
            "name": "__init__",
            "cc": 1,
            "lines": 2,
            "parameters": 2
          },
          {
            "name": "init_database",
            "cc": 1,
            "lines": 7,
            "parameters": 1
          },
          {
            "name": "log_query",
            "cc": 1,
            "lines": 6,
            "parameters": 6
          },
          {
            "name": "log_performance",
            "cc": 1,
            "lines": 6,
            "parameters": 4
          },
          {
            "name": "get_stats",
            "cc": 3,
            "lines": 13,
            "parameters": 2
          },
          {
            "name": "export_data",
            "cc": 2,
            "lines": 11,
            "parameters": 2
          },
          {
            "name": "decorator",
            "cc": 2,
            "lines": 2,
            "parameters": 1
          },
          {
            "name": "wrapper",
            "cc": 2,
            "lines": 3,
            "parameters": 0
          }
        ],
        "imports": [
          "json",
          "time",
          "datetime",
          "pathlib",
          "sqlite3"
        ],
        "total_cc": 15
      },
      {
        "file": "src\\chatbot.py",
        "lines_of_code": 291,
        "classes": [
          {
            "name": "ChatbotRAG",
            "methods": [
              {
                "name": "__init__",
                "cc": 1,
                "lines": 5,
                "parameters": 2
              },
              {
                "name": "retrieve_context",
                "cc": 5,
                "lines": 2,
                "parameters": 2
              },
              {
                "name": "validate_and_clean_response",
                "cc": 12,
                "lines": 8,
                "parameters": 3
              },
              {
                "name": "generate_response",
                "cc": 2,
                "lines": 2,
                "parameters": 3
              },
              {
                "name": "chat",
                "cc": 10,
                "lines": 12,
                "parameters": 2
              },
              {
                "name": "_should_redirect_to_ticket",
                "cc": 10,
                "lines": 14,
                "parameters": 3
              }
            ],
            "method_count": 6,
            "wmc": 40,
            "lcom": 0.8666666666666667,
            "instance_variables": 8
          }
        ],
        "functions": [
          {
            "name": "setup_chatbot",
            "cc": 4,
            "lines": 9,
            "parameters": 0
          },
          {
            "name": "__init__",
            "cc": 1,
            "lines": 5,
            "parameters": 2
          },
          {
            "name": "retrieve_context",
            "cc": 5,
            "lines": 2,
            "parameters": 2
          },
          {
            "name": "validate_and_clean_response",
            "cc": 12,
            "lines": 8,
            "parameters": 3
          },
          {
            "name": "generate_response",
            "cc": 2,
            "lines": 2,
            "parameters": 3
          },
          {
            "name": "chat",
            "cc": 10,
            "lines": 12,
            "parameters": 2
          },
          {
            "name": "_should_redirect_to_ticket",
            "cc": 10,
            "lines": 14,
            "parameters": 3
          },
          {
            "name": "get_quick_response",
            "cc": 1,
            "lines": 1,
            "parameters": 1
          }
        ],
        "imports": [
          "dotenv",
          "os",
          "sys",
          "pathlib",
          "local_embeddings",
          "ollama_llm",
          "create_vectorstore",
          "quick_responses",
          "re",
          "re"
        ],
        "total_cc": 45
      },
      {
        "file": "src\\create_vectorstore.py",
        "lines_of_code": 110,
        "classes": [],
        "functions": [
          {
            "name": "crea_vectorstore_free",
            "cc": 4,
            "lines": 15,
            "parameters": 2
          },
          {
            "name": "search_vectorstore",
            "cc": 2,
            "lines": 8,
            "parameters": 4
          }
        ],
        "imports": [
          "os",
          "chromadb",
          "chromadb.config",
          "local_embeddings",
          "dotenv",
          "split_into_chunks",
          "glob"
        ],
        "total_cc": 6
      },
      {
        "file": "src\\extract_and_save.py",
        "lines_of_code": 49,
        "classes": [],
        "functions": [
          {
            "name": "process_all_documents",
            "cc": 7,
            "lines": 9,
            "parameters": 0
          }
        ],
        "imports": [
          "os",
          "extract_file"
        ],
        "total_cc": 7
      },
      {
        "file": "src\\extract_file.py",
        "lines_of_code": 53,
        "classes": [],
        "functions": [
          {
            "name": "clean_links",
            "cc": 2,
            "lines": 6,
            "parameters": 1
          },
          {
            "name": "estrai_testo",
            "cc": 5,
            "lines": 2,
            "parameters": 1
          }
        ],
        "imports": [
          "os",
          "re",
          "PyPDF2"
        ],
        "total_cc": 7
      },
      {
        "file": "src\\local_embeddings.py",
        "lines_of_code": 44,
        "classes": [
          {
            "name": "LocalEmbeddings",
            "methods": [
              {
                "name": "__init__",
                "cc": 2,
                "lines": 4,
                "parameters": 2
              },
              {
                "name": "embed_documents",
                "cc": 1,
                "lines": 4,
                "parameters": 2
              },
              {
                "name": "embed_query",
                "cc": 1,
                "lines": 3,
                "parameters": 2
              }
            ],
            "method_count": 3,
            "wmc": 4,
            "lcom": 0.0,
            "instance_variables": 2
          }
        ],
        "functions": [
          {
            "name": "__init__",
            "cc": 2,
            "lines": 4,
            "parameters": 2
          },
          {
            "name": "embed_documents",
            "cc": 1,
            "lines": 4,
            "parameters": 2
          },
          {
            "name": "embed_query",
            "cc": 1,
            "lines": 3,
            "parameters": 2
          }
        ],
        "imports": [
          "sentence_transformers",
          "os",
          "typing",
          "dotenv"
        ],
        "total_cc": 4
      },
      {
        "file": "src\\ollama_llm.py",
        "lines_of_code": 177,
        "classes": [
          {
            "name": "OllamaLLM",
            "methods": [
              {
                "name": "__init__",
                "cc": 3,
                "lines": 3,
                "parameters": 3
              },
              {
                "name": "is_running",
                "cc": 3,
                "lines": 2,
                "parameters": 1
              },
              {
                "name": "list_models",
                "cc": 4,
                "lines": 2,
                "parameters": 1
              },
              {
                "name": "generate",
                "cc": 9,
                "lines": 6,
                "parameters": 3
              },
              {
                "name": "pull_model",
                "cc": 2,
                "lines": 3,
                "parameters": 1
              }
            ],
            "method_count": 5,
            "wmc": 21,
            "lcom": 0.0,
            "instance_variables": 3
          }
        ],
        "functions": [
          {
            "name": "setup_ollama",
            "cc": 4,
            "lines": 9,
            "parameters": 0
          },
          {
            "name": "__init__",
            "cc": 3,
            "lines": 3,
            "parameters": 3
          },
          {
            "name": "is_running",
            "cc": 3,
            "lines": 2,
            "parameters": 1
          },
          {
            "name": "list_models",
            "cc": 4,
            "lines": 2,
            "parameters": 1
          },
          {
            "name": "generate",
            "cc": 9,
            "lines": 6,
            "parameters": 3
          },
          {
            "name": "pull_model",
            "cc": 2,
            "lines": 3,
            "parameters": 1
          }
        ],
        "imports": [
          "requests",
          "json",
          "os",
          "dotenv",
          "typing",
          "subprocess"
        ],
        "total_cc": 25
      },
      {
        "file": "src\\quick_responses.py",
        "lines_of_code": 53,
        "classes": [],
        "functions": [
          {
            "name": "get_quick_response",
            "cc": 4,
            "lines": 4,
            "parameters": 1
          }
        ],
        "imports": [],
        "total_cc": 4
      },
      {
        "file": "src\\split_into_chunks.py",
        "lines_of_code": 47,
        "classes": [],
        "functions": [
          {
            "name": "split_text_in_chunks",
            "cc": 1,
            "lines": 4,
            "parameters": 3
          },
          {
            "name": "split_text_in_chunks_simple",
            "cc": 2,
            "lines": 5,
            "parameters": 2
          }
        ],
        "imports": [
          "os",
          "langchain.text_splitter"
        ],
        "total_cc": 3
      },
      {
        "file": "src\\__init__.py",
        "lines_of_code": 1,
        "classes": [],
        "functions": [],
        "imports": [],
        "total_cc": 0
      },
      {
        "file": "tests\\generate_test_data.py",
        "lines_of_code": 153,
        "classes": [],
        "functions": [
          {
            "name": "generate_test_dataset",
            "cc": 2,
            "lines": 4,
            "parameters": 1
          },
          {
            "name": "categorize_query",
            "cc": 11,
            "lines": 3,
            "parameters": 1
          },
          {
            "name": "is_personal_query",
            "cc": 2,
            "lines": 4,
            "parameters": 1
          },
          {
            "name": "save_dataset",
            "cc": 6,
            "lines": 10,
            "parameters": 2
          }
        ],
        "imports": [
          "json",
          "random",
          "time",
          "datetime"
        ],
        "total_cc": 21
      },
      {
        "file": "tests\\test_links.py",
        "lines_of_code": 58,
        "classes": [],
        "functions": [
          {
            "name": "test_link_responses",
            "cc": 6,
            "lines": 7,
            "parameters": 0
          }
        ],
        "imports": [
          "sys",
          "os",
          "chatbot",
          "re"
        ],
        "total_cc": 6
      },
      {
        "file": "tests\\test_retrieval.py",
        "lines_of_code": 126,
        "classes": [],
        "functions": [
          {
            "name": "test_retrieval_system",
            "cc": 7,
            "lines": 5,
            "parameters": 0
          },
          {
            "name": "interactive_search",
            "cc": 9,
            "lines": 6,
            "parameters": 0
          },
          {
            "name": "main",
            "cc": 6,
            "lines": 4,
            "parameters": 0
          }
        ],
        "imports": [
          "os",
          "sys",
          "local_embeddings",
          "create_vectorstore"
        ],
        "total_cc": 22
      }
    ],
    "summary": {
      "total_files": 19,
      "total_lines": 3002,
      "total_classes": 6,
      "total_functions": 88,
      "average_cc": 3.0866141732283463,
      "max_cc": 14,
      "total_imports": 98
    }
  },
  "robert_martin": {
    "fix_links": {
      "Ca": 0,
      "Ce": 2,
      "Instability": 1.0
    },
    "main": {
      "Ca": 0,
      "Ce": 10,
      "Instability": 1.0
    },
    "setup": {
      "Ca": 1,
      "Ce": 8,
      "Instability": 0.8888888888888888
    },
    "software_metrics": {
      "Ca": 0,
      "Ce": 9,
      "Instability": 1.0
    },
    "thesis_evaluation": {
      "Ca": 0,
      "Ce": 11,
      "Instability": 1.0
    },
    "streamlit_app": {
      "Ca": 0,
      "Ce": 7,
      "Instability": 1.0
    },
    "analytics": {
      "Ca": 0,
      "Ce": 5,
      "Instability": 1.0
    },
    "chatbot": {
      "Ca": 5,
      "Ce": 10,
      "Instability": 0.6666666666666666
    },
    "create_vectorstore": {
      "Ca": 3,
      "Ce": 7,
      "Instability": 0.7
    },
    "extract_and_save": {
      "Ca": 1,
      "Ce": 2,
      "Instability": 0.6666666666666666
    },
    "extract_file": {
      "Ca": 1,
      "Ce": 3,
      "Instability": 0.75
    },
    "local_embeddings": {
      "Ca": 3,
      "Ce": 4,
      "Instability": 0.5714285714285714
    },
    "ollama_llm": {
      "Ca": 2,
      "Ce": 6,
      "Instability": 0.75
    },
    "quick_responses": {
      "Ca": 1,
      "Ce": 0,
      "Instability": 0.0
    },
    "split_into_chunks": {
      "Ca": 1,
      "Ce": 2,
      "Instability": 0.6666666666666666
    },
    "__init__": {
      "Ca": 0,
      "Ce": 0,
      "Instability": 0
    },
    "generate_test_data": {
      "Ca": 0,
      "Ce": 4,
      "Instability": 1.0
    },
    "test_links": {
      "Ca": 0,
      "Ce": 4,
      "Instability": 1.0
    },
    "test_retrieval": {
      "Ca": 0,
      "Ce": 4,
      "Instability": 1.0
    }
  },
  "timestamp": "2025-09-02 10:44:09.447428"
}